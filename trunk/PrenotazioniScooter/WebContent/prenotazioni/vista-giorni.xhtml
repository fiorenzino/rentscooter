<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a="http://topnet.it/facelets"
	xmlns:fn="http://topnet.it/functions"
	xmlns:rich="http://richfaces.ajax4jsf.org/rich"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax">

<ui:composition template="/WEB-INF/layout/t_single.xhtml">
	<ui:define name="title">Gestione Prenotazioni</ui:define>
	<ui:define name="content">
		<h2>CERCA PER COLONNE</h2>
		<h:outputText
			value="#{fn:init('prenotazioniHandler','it.reservations.par.Prenotazione', 'cercaPrenotazioni')}" />
		<h:form id="leftForm">
			<rich:panel id="vediamo">

				<div>data dal: <rich:calendar id="dataDal"
					value="#{prenotazioniHandler.ricerca.dal}" popup="true" showInput="true"
					enableManualInput="true" datePattern="dd/MM/yyyy"
					showApplyButton="false">
					<a4j:support event="onchanged" ajaxSingle="true" />
				</rich:calendar></div>
				<div>data al: <rich:calendar id="dataAl"
					value="#{prenotazioniHandler.ricerca.al}" popup="true" showInput="true"
					enableManualInput="true" datePattern="dd/MM/yyyy"
					showApplyButton="false">
					<a4j:support event="onchanged" ajaxSingle="true" />
				</rich:calendar></div>
				<h:commandButton id="submit"
					action="#{prenotazioniHandler.aggModel}" value="Cerca"
					immediate="false" />

			</rich:panel>

			<rich:panel header="Prenotazioni">

				<rich:dataTable id="colTable" value="#{prenotazioniHandler.model}"
					var="res">
					<f:facet name="header">
						<h:outputText value="Prentazioni"></h:outputText>
					</f:facet>

					<rich:columns value="#{prenotazioniHandler.columns}" var="columns"
						index="ind" begin="#{prenotazioniHandler.begin}"
						end="#{prenotazioniHandler.end}">

						<f:facet name="header">
							<h:outputText value="#{columns.header}" />
						</f:facet>
						<h:outputText value="#{res[ind].scooterName} " />
					</rich:columns>
				</rich:dataTable>

			</rich:panel>
			
		</h:form>
	</ui:define>
</ui:composition>
</html>
